
//  Park Amber SoA

EXTEND_BOTTOM M#AMBERP 13
IF ~G("RjaliAmberScout",2)
    G("M#AmberRomanceActive",2)
    !G("KeepPlot",0)~ THEN REPLY @0 GOTO RJParkAmberSOA
END

APPEND M#AMBERP

IF ~~ THEN BEGIN RJParkAmberSOA
  SAY @660
  IF ~~ THEN DO ~SetGlobal("RJParkAM","GLOBAL",1)
                 IncrementGlobal("RJCntParked","GLOBAL",1)
                 EscapeAreaMove("AR1305",1063,365,6)~ EXIT
END

IF WEIGHT #-1 ~G("RJParkAM",1)~ THEN BEGIN RJVisitAmberSOA
  SAY @12
  IF ~~ THEN REPLY @13 EXIT
  IF ~~ THEN REPLY @7 DO ~
                 SetGlobal("RJParkAM","GLOBAL",0)
                 IncrementGlobal("RJCntParked","GLOBAL",-1)
                 JoinParty()~ EXIT
  IF ~RandomNum(3,1)~ THEN REPLY @9 GOTO RJVAMSOA1
  IF ~RandomNum(3,2)~ THEN REPLY @9 GOTO RJVAMSOA2
  IF ~RandomNum(3,3)~ THEN REPLY @9 GOTO RJVAMSOA3
  IF ~~ THEN REPLY @11 GOTO RJVAMSOA4
  IF ~~ THEN REPLY @661 GOTO RJVAMSOA5
  IF ~~ THEN REPLY @8 GOTO RJVAMSOA6
END

IF ~~ THEN BEGIN RJVAMSOA1
  SAY @675 = @676 = @677
  IF ~~ THEN REPLY @678 EXIT
END

IF ~~ THEN BEGIN RJVAMSOA2
  SAY @679 = @680
  IF ~~ THEN REPLY @681 EXIT
END

IF ~~ THEN BEGIN RJVAMSOA3
  SAY @682 = @683 = @684 = @685
  IF ~~ THEN REPLY @686 EXIT
END

IF ~~ THEN BEGIN RJVAMSOA4
  SAY @671 = @672 = @673
  IF ~~ THEN REPLY @674 EXIT
END

IF ~~ THEN BEGIN RJVAMSOA5
  SAY @662 = @663 = @664
  IF ~~ THEN REPLY @665 EXIT
END

IF ~~ THEN BEGIN RJVAMSOA6
  SAY @666 = @667 = @668 = @669
  IF ~~ THEN REPLY @670 EXIT
END

END

//  Park Amber ToB

APPEND M#AMB25P

IF WEIGHT #-95 ~G("RJParkAM",1)
                G("RJXPN",0)~ RJVisitAmberTOB
SAY @602
++ @603 EXIT
  IF ~~ THEN REPLY @7 DO ~SetGlobal("RJParkAM","GLOBAL",0)
                          IncrementGlobal("RJCntParked","GLOBAL",-1)
                          JoinParty()~ EXIT
  IF ~G("RJFinalVisit",1) G("RJAMFV",0)~ THEN REPLY @14 GOTO RJVAMTOB9
  IF ~RandomNum(3,1)~ THEN REPLY @9 GOTO RJVAMTOB1
  IF ~RandomNum(3,2)~ THEN REPLY @9 GOTO RJVAMTOB2
  IF ~RandomNum(3,3)~ THEN REPLY @9 GOTO RJVAMTOB3
  IF ~~ THEN REPLY @11 GOTO RJVAMTOB4
  IF ~~ THEN REPLY @604 GOTO RJVAMTOB5
  IF ~~ THEN REPLY @8 GOTO RJVAMTOB6
END

IF ~~ THEN BEGIN RJVAMTOB1
  SAY @620 = @621 = @622
  IF ~~ THEN REPLY @623 GOTO RJVAMTOB1.1
END

IF ~~ THEN BEGIN RJVAMTOB1.1
  SAY @624 = @625
  IF ~~ THEN REPLY @626 EXIT
END

IF ~~ THEN BEGIN RJVAMTOB2
  SAY @627 = @628 = @629 = @630
  IF ~~ THEN REPLY @631 GOTO RJVAMTOB2.1
END

IF ~~ THEN BEGIN RJVAMTOB2.1
  SAY @632
  IF ~~ THEN REPLY @633 EXIT
END

IF ~~ THEN BEGIN RJVAMTOB3
  SAY @634 = @635 = @636
  IF ~~ THEN REPLY @637 EXIT
END

IF ~~ THEN BEGIN RJVAMTOB4
  SAY @605 = @606 = @607 = @608
  IF ~~ THEN REPLY @609 EXIT
END

IF ~~ THEN BEGIN RJVAMTOB5
  SAY @610 = @611 = @612 = @613 = @614 = @615
  IF ~~ THEN REPLY @616 EXIT
END

IF ~~ THEN BEGIN RJVAMTOB6
  SAY @638 = @639 = @640 = @641 = @642
  IF ~~ THEN REPLY @643 EXIT
END

IF ~~ THEN BEGIN RJVAMTOB9
  SAY @644
  IF ~~ THEN REPLY @645 GOTO RJVAMTOB9.1
END

IF ~~ THEN BEGIN RJVAMTOB9.1
  SAY @646 = @647 = @648 = @649
  IF ~~ THEN REPLY @650 DO ~SetGlobal("RJAMFV","GLOBAL",1)~ EXIT
END

END
