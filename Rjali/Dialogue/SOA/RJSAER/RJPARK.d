
//  Park NPCs in deArnise Keep

//   Saerileth ToB

EXTEND_BOTTOM SAERI25P 2
IF ~G("SaerilethRomanceActive",2)~ THEN REPLY @0 GOTO RJParkSaerilethTOB
END

APPEND SAERI25P

IF ~~ THEN BEGIN RJParkSaerilethTOB
  SAY @1050
  IF ~~ THEN DO ~SetGlobal("RJParkSA","GLOBAL",1)
                 IncrementGlobal("RJCntParked","GLOBAL",1)
                 EscapeAreaMove("AR1306",330,1044,12)~ EXIT
END

IF WEIGHT #-1 ~G("RJParkSA",1)~ THEN BEGIN RJVisitSaerilethTOB
  SAY @1051
  IF ~G("RJFinalVisit",1) G("RJSAFV",0)~ THEN REPLY @14 GOTO RJVSATOB9
  IF ~~ THEN REPLY @13 EXIT
  IF ~~ THEN REPLY @1052 DO ~
                 SetGlobal("RJParkSA","GLOBAL",0)
                 IncrementGlobal("RJCntParked","GLOBAL",-1)
                 JoinParty()~ EXIT
  IF ~RandomNum(3,1)~ THEN REPLY @9 GOTO RJVSATOB1
  IF ~RandomNum(3,2)~ THEN REPLY @9 GOTO RJVSATOB2
  IF ~RandomNum(3,3)~ THEN REPLY @9 GOTO RJVSATOB3
  IF ~~ THEN REPLY @11 GOTO RJVSATOB4
  IF ~~ THEN REPLY @1061 GOTO RJVSATOB5
  IF ~~ THEN REPLY @1053 GOTO RJVSATOB6
END

IF ~~ THEN BEGIN RJVSATOB1
  SAY @1074 = @1075 = @1076
  IF ~~ THEN REPLY @1077 EXIT
END

IF ~~ THEN BEGIN RJVSATOB2
  SAY @1078 = @1079 = @1080 = @1081 = @1082
  IF ~~ THEN REPLY @1083 EXIT
END

IF ~~ THEN BEGIN RJVSATOB3
  SAY @1084 = @1085 = @1086
  IF ~~ THEN REPLY @1087 EXIT
END

IF ~~ THEN BEGIN RJVSATOB4
  SAY @1067 = @1068 = @1069
  IF ~~ THEN REPLY @1070 EXIT
END

IF ~~ THEN BEGIN RJVSATOB5
  SAY @1062 = @1063 = @1064 = @1065
  IF ~~ THEN REPLY @1066 EXIT
END

IF ~~ THEN BEGIN RJVSATOB6
  SAY @1054 = @1055
  IF ~~ THEN REPLY @1056 GOTO RJVSATOB6.1
END

IF ~~ THEN BEGIN RJVSATOB6.1
  SAY @1057 = @1058 = @1059
  IF ~~ THEN REPLY @1060 EXIT
END

IF ~~ THEN BEGIN RJVSATOB9
  SAY @1071 = @1072
  IF ~~ THEN REPLY @1073 DO ~SetGlobal("RJSAFV","GLOBAL",1)~ EXIT
END

END
